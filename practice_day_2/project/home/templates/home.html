{% extends 'base.html' %}

<!--Title-->
{% block title %}
<title>Home</title>
{% endblock %}

<!--Content-->
{% block content %}
<h1 class="text-center mt-5 mb-4">Album List...!</h1>

<section style="width: 80%; margin: auto">
    <table class="table table-success table-striped text-center">
     <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Musician Name</th>
      <th scope="col">Email</th>
      <th scope="col">Album Rating</th>
      <th scope="col">Instrument Type</th>
      <th scope="col">Album Name</th>
      <th scope="col">Release Date</th>
        {% if request.user.is_authenticated %}
            <th scope="col">Actions</th>
        {% endif %}
    </tr>
  </thead>
  <tbody>
      {% for musician in musician %}
        {% for album in musician.albums.all %}
            <tr>
                <td>{{ album.id }}</td>
                <td><a href="{% url 'edit_musician' musician.id %}" style="cursor: pointer; text-decoration: none; color: black">{{ musician.first_name }} {{ musician.last_name }}</a></td>
                <td>{{ musician.email }}</td>
                <td>{{ album.rating }}</td>
                <td>{{ musician.instrument_type }}</td>
                <td>{{ album.album_name }}</td>
                <td>{{ album.album_release_date }}</td>
                {% if request.user.is_authenticated %}
                    <td>
                        <a href="{% url 'edit_album' album.id %}">
                            <button class="btn btn-outline-info btn-sm">Edit</button>
                        </a>
                        <a href="{% url 'delete_album' album.id %}">
                            <button class="btn btn-outline-danger btn-sm">Delete</button>
                        </a>
                    </td>
                {% endif %}

            </tr>
        {% endfor %}
    {% endfor %}

  </tbody>
</table>
</section>


{% endblock %}
